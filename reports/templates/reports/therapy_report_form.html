{% extends "base.html" %}

{% block extrahead %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'reports/style_e2.css' %}">
{% endblock %}

{% block nav %}
<nav class="navbar navbar-expand-sm bg-primary navbar-dark">
  <a class="navbar-brand" href="{% url 'reports:index' %}" >Patient suchen</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="collapsibleNavbar">
    <ul class="navbar-nav">
        <li class="nav-item">
          <a class="btn btn-primary btn-sm" href="{% url 'reports:therapy' form.therapy.value %}" role="button">zurück</a>
        </li>
    </ul>
  </div>
</nav>
{% endblock %}

{% block content %}
<content>
<p></p>

    <form method="POST" enctype="multipart/form-data" action="">
    {% csrf_token %}
        {{ form.media }}
    {{ form.non_field_errors }}
    <div class="container">
        <div class="row">
            <div class="col-sm">
                <h4>Therapiebericht anlegen/ändern :</h4>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-sm-offset-2 col-sm-6">
                <button type="submit" class="btn btn-primary btn-sm">Speichern</button>
            </div>
        </div>
        {% if request.user.groups.all.0.name == 'Leitung' %}
        <div class="form-group row">
            <label for="{{ form.report_date.id_for_label }}" class="col-sm-2 control-label">Versanddatum: </label>
            <div class="col-sm-6">
                {{ form.report_date }}
                {{ form.report_date.errors }}
            </div>
        </div>
        {% else %}
            {% if form.report_date %}
                     <input type="hidden" id="id_report_date" name="report_date" value="{{ form.report_date.value|date:'d.m.Y' }}">
            {% else %}
                     <input type="hidden" id="id_report_date" name="report_date">
             {% endif %}
        {% endif %}
        <div class="form-group row">
            <label for="{{ form.therapy_start.id_for_label }}" class="col-sm-2 control-label">Therapie Start: </label>
            <div class="col-sm-6">
                {{ form.therapy_start }}
                <div class="text-danger">{{ form.therapy_start.errors }}</div>
            </div>
        </div>
        <div class="form-group row">
            <label for="{{ form.therapy_end.id_for_label }}" class="col-sm-2 control-label">Therapie Ende: </label>
            <div class="col-sm-6">
                {{ form.therapy_end }}
                <div class="text-danger">{{ form.therapy_end.errors }}</div>
            </div>
        </div>
        <div class="form-group row">
            <label for="{{ form.therapy_current_result.id_for_label }}" class="col-sm-2 control-label">Aktueller Stand: </label>
            <div class="col-sm-9">
                {{ form.therapy_current_result }}
                {{ form.therapy_current_result.errors }}
            </div>
        </div>
        <div class="form-group row">
            <label for="{{ form.therapy_emphases.id_for_label }}" class="col-sm-2 control-label">Therapieschwerpunkte: </label>
            <div class="col-sm-9">
                {{ form.therapy_emphases }}
                {{ form.therapy_emphases.errors }}
            </div>
        </div>
        <div class="form-group row">
            <label for="{{ form.therapy_forecast.id_for_label }}" class="col-sm-2 control-label">Prognose: </label>
            <div class="col-sm-9">
                {{ form.therapy_forecast }}
                {{ form.therapy_forecast.errors }}
            </div>
        </div>
        <div class="form-group row">
            <label for="{{ form.therapy_indicated.id_for_label }}" class="col-sm-2 control-label">Fortführung: </label>
            <div class="col-sm-6">
                {{ form.therapy_indicated }}
                {{ form.therapy_indicated.errors }}
            </div>
        </div>
        <div class="form-group row">
            <label for="{{ form.therapy_break.id_for_label }}" class="col-sm-2 control-label">Pause: </label>
            <div class="col-sm-6">
                {{ form.therapy_break }}
                {{ form.therapy_break.errors }}
            </div>
        </div>
        <div class="form-group row">
            <label for="{{ form.therapy_finish.id_for_label }}" class="col-sm-2 control-label">Beendigung: </label>
            <div class="col-sm-6">
                {{ form.therapy_finish }}
                {{ form.therapy_finish.errors }}
            </div>
        </div>
        <div class="form-group row">
            <label for="{{ form.therapy_individual.id_for_label }}" class="col-sm-2 control-label">Einzeltherapie: </label>
            <div class="col-sm-6">
                {{ form.therapy_individual }}
                {{ form.therapy_individual.errors }}
            </div>
        </div>
        <div class="form-group row">
            <label for="{{ form.therapy_individual_min.id_for_label }}" class="col-sm-2 control-label">Einzel Minuten: </label>
            <div class="col-sm-6">
                {{ form.therapy_individual_min }}
                {{ form.therapy_individual_min.errors }}
            </div>
        </div>
        <div class="form-group row">
            <label for="{{ form.therapy_group.id_for_label }}" class="col-sm-2 control-label">Gruppentherapie: </label>
            <div class="col-sm-6">
                {{ form.therapy_group }}
                {{ form.therapy_group.errors }}
            </div>
        </div>
        <div class="form-group row">
            <label for="{{ form.therapy_group_min.id_for_label }}" class="col-sm-2 control-label">Gruppe Minuten: </label>
            <div class="col-sm-6">
                {{ form.therapy_group_min }}
                {{ form.therapy_group_min.errors }}
            </div>
        </div>
        <!--
        <div class="form-group row">
            <label for="{{ form.therapy_re_introduction.id_for_label }}" class="col-sm-2 control-label">Wiedervorstellung: </label>
            <div class="col-sm-6">
                {{ form.therapy_re_introduction }}
                {{ form.therapy_re_introduction.errors }}
            </div>
        </div>
        <div class="form-group row">
            <label for="{{ form.therapy_re_introduction_weeks.id_for_label }}" class="col-sm-2 control-label">in 'n' Wochen: </label>
            <div class="col-sm-6">
                {{ form.therapy_re_introduction_weeks }}
                {{ form.therapy_re_introduction_weeks.errors }}
            </div>
        </div>
        -->

        <div class="form-group row">
            <label for="{{ form.therapy_frequence.id_for_label }}" class="col-sm-2 control-label">Frequenz: </label>
            <div class="col-sm-6">
                {{ form.therapy_frequence }}
                {{ form.therapy_frequence.errors }}
            </div>
        </div>
        <div class="form-group row">
            <label for="{{ form.therapy_frequence_count_per_week.id_for_label }}" class="col-sm-2 control-label">Anzahl/Woche: </label>
            <div class="col-sm-6">
                {{ form.therapy_frequence_count_per_week }}
                {{ form.therapy_frequence_count_per_week.errors }}
            </div>
        </div>

        <div class="form-group row">
            <label for="{{ form.therapy_another.id_for_label }}" class="col-sm-2 control-label">andere Therapie: </label>
            <div class="col-sm-6">
                {{ form.therapy_another }}
                {{ form.therapy_another.errors }}
            </div>
        </div>
        <div class="form-group row">
            <label for="{{ form.therapy_another_text.id_for_label }}" class="col-sm-2 control-label">welche andere?: </label>
            <div class="col-sm-6">
                {{ form.therapy_another_text }}
                {{ form.therapy_another_text.errors }}
            </div>
        </div>

        <div class="form-group row">
            <label for="{{ form.therapy_home_visit.id_for_label }}" class="col-sm-2 control-label">Hausbesuch: </label>
            <div class="col-sm-6">
                {{ form.therapy_home_visit }}
                {{ form.therapy_home_visit.errors }}
            </div>
        </div>

        <div class="form-group row">
            <label for="{{ form.therapy_break_date.id_for_label }}" class="col-sm-2 control-label">Wiederaufnahme: </label>
            <div class="col-sm-6">
                {{ form.therapy_break_date }}
                {{ form.therapy_break_date.errors }}
            </div>
        </div>
        <div class="form-group row">
            <label for="{{ form.therapy_comment.id_for_label }}" class="col-sm-2 control-label">Bemerkung: </label>
            <div class="col-sm-6">
                {{ form.therapy_comment }}
                {{ form.therapy_success.errors }}
            </div>
        </div>
        <input type="hidden" id="id_therapy" name="therapy" value="{{ form.therapy.value }}">
        <div class="form-group row">
            <div class="col-sm-offset-2 col-sm-6">
                <button type="submit" class="btn btn-primary btn-sm">Speichern</button>
            </div>
        </div>
    </div>
</form>

</content>
{% endblock %}


